### 1、问题背景：
芝加哥从2020年1月6日起开始征收新的以共享出行为目标的拥堵税(以下简称拥堵税)，根据出行是否为共享出行，起点/终点是否在市中心区，征收不同的单程附加费。根据微观经济理论，较高的价格会导致较少的使用和消费(Mankiw，2020年)。因此，拥堵税有望减少整体的乘车需求，鼓励乘客共享乘车服务，并解决严重的交通拥堵问题。

### 2、问题意义
精确的事后评估将有助于政策制定者(1)确定对搭乘外包征收拥堵税是否实现了目标，(2)检验此类税收的有效性。

### 3、问题难点
- 1、出于保密和隐私方面的考虑，现实世界中的乘车出行数据很少向公众公布。可用数据的匮乏阻碍了研究人员深入调查和确定此类税收的影响。
- 2、要找出拥堵税对交通系统性能(如搭乘外包需求和交通拥堵)的确切影响虽然并非不可能，但也具有挑战性，因为交通系统性能是由许多观察到的和观察不到的因素决定的，如人口和就业变化、道路和交通网络变化以及周期性变化(季节性)。确定因果关系需要足够的数据和高质量的研究设计。
- 3、鉴于拥堵税的开征时间较晚，其实施时间一般与 COVID-19 大流行病的爆发时间相吻合。鉴于研究表明 COVID-19 对客流具有破坏性影响，从 COVID-19 大流行的混杂效应中仔细研究拥堵税的影响将具有挑战性

### 4、现有数据及处理措施
- 精细化乘车外包出行数据
	- 数据包含出行开始和结束时间、出发地和目的地的地理位置、处刑人是否愿意共享出行、共享授权出行是否匹配，时间维度从2018年11月开始。
	- **数据问题**：
		- 时间四舍五入为15分钟左右、
		- 出行起终点在普查区级别、
		- 如果15分钟内普查区的出行次数小于两次，地点则上升到社区区域级别（大于普通区）导致约三分之一的行程受到影响。
	- **搭乘外包需求的衡量标准**：统计人口普查区一级的搭乘外包接送次数（PUDOs）
	- **处理**：统计每小时普查区级的各种类型（单次、共享授权、共享匹配和所有出行）的乘车外包出行的PUDO
- 高频交通速度数据
	- 130个交通路段的历史交通速度、主要集中在主干道、车速根据公交车的GPS路径进行估算，更新频率为每次五分钟
	- **数据问题**：
		- 巴士数量稀少时，不会记录车速，因此对没有持续监测车速的路段予以剔除，共保留59个交通路段
		- 汇总各交通路段每小时的车速、并取平均值作为交通拥堵程度的测量值
	- **交通拥堵情况**：交通路段平均行驶速度
	- **处理**：通过汇总59个交通路段每小时的车速，并取平均值作为交通拥堵程度的测量值
- 天气数据
	- 采取每小时的气温（连续变量）、降水/降雪（七类别）

- 数据清理
	- 拥堵税只在工作日高峰时段实施，排除周末和节假日样本
	- 剔除不寻常客流需求模式的日子（感恩节、圣诞节前一天、情人节）
	- 剔除实施拥堵税后第一周的样本（第一周可能乘客不了解政策，难以做出反映，容易导致模型结果偏差）
- DID基于回归的差分因果推断
	- 2020年1月6日实行拥堵税，以2019年1月6日前后作为对照组，以2020年1月6日前后作为试验组。
	- **结果**：
		- 拥堵税显著减少了单次出行需求，促进了共享出行需求
		- 拥堵税极大抑制了整体乘车需求，但仅在一定程度上缓解了交通拥堵
		- 拥堵税对搭乘外包需求的影响在一天的不同时段、不同人口普查区和不同旅行距离之间表现出异质性
### 5、DID模型
$$
\log\left(y_{i,j,h}\right)=\beta_{0}+\beta_{1}\mathrm{POST}_{i}+\beta_{2}TREAT_{i}+\beta_{3}\mathrm{POST}_{i}\times TREAT_{i}+\beta_{4}Z_{i,h}+\delta_{i}+\varepsilon_{i,t,h}
$$
其中：
- ${POST}_{i}$是虚拟变量，在1月6号之后为1，之前则为0，即代表是否实施拥堵税；
- $TREAT_{i}$是虚拟变量，在2019年11月至2020年2月28日期间的变量等于1，其他则为0，即代表处理组的指标变量
- $\beta_{3}\mathrm{}$是交互项系数，$\%\Delta y=e^{\beta_3}-1$用来表示拥堵税对乘车需求或交通拥堵的短期影响的方向和相对大小。
- $Z_{i,h}$是控制变量的向量，包括温度、降水、一天中的小时数、一周中的天数。
- $\delta_{i}$是人口普查区或交通路段的固定效应。
- 
研究中排除了某些交通路段的数据，是因为这些路段没有持续的交通速度记录。如果这些被排除的路段在实施交通拥堵税后交通状况实际上有重大改变（比如速度明显增减），而研究中没有考虑到这一点，那么仅基于剩余路段得到的关于交通拥堵税效果的结论就可能是不准确的，因为它没有全面反映出所有相关交通状况的变化，从而导致了结果的偏误。

### 6、结果解析
#### 6.1 模型结果
根据原始DID模型我们发现拥堵税后有以下转变：
- 单次出行的PUDOs减少（拥堵税大大降低了单次出行需求）
- 共享授权、共享配对出行的PUDOs增加（提高了出行者分担出行的意愿）
- 平均而言，所有行程的PUDOs出现了降低
- 拥堵税对交通速度呈正向作用，但影响微乎其微，不显著。（对于缓解城市拥堵不显著）

#### 6.2稳健性检查
为确保DID模型识别结果的稳定可靠，进行稳健性检验如下：
**1、时间窗口敏感性测试**：
- **方法**：对前后32天到60天的对称时间数据进行估计，判断交叉线估计系数的情况
- 单次和所有行程的PUDOs的估计系数均为显著负值
- 共享出行的PUDOs的估计系数均为显著正值
- 交通速度的估计系数均不显著
- 随着时间窗口的变化，五个结果变量的估计系数均只有轻微变化
- **结论**：结果表明，我们的baseline在不同时间窗口下是稳定的，即baseline对时间窗口的选择是稳健的。

**2、数据清理敏感性测试**：
为确保数据清理策略不影响交通速度baseline结果，扩大数据分析范围到所有交通路段。
即防止在实施交通拥堵后，被删除路段的车速发生重大变化，从而导致baseline出现偏差
- **方法**：重新编译一个所有交通路段的交通速度数据的超集，并重新运行模型
- 拥堵税对车速的影响相对较小，且在统计上不显著，与Baseline结果一致
- **结论**：数据清理策略是合理的

**3、模型稳定性测试**：
为了验证研究的基本结论是否稳健，即不受模型设定变动的影响，研究者采用了多种不同的方法和调整来重新测试这些结果。下面是对提到的几个关键点的详细解释：

-  **Count Data Model Setting**: 这里指的是研究者在分析中考虑了计数数据的特性。计数数据通常是非负整数（如事件发生的次数、人数等），并且具有非连续性。常见的计数数据模型包括泊松回归（Poisson Regression）、负二项回归（Negative Binomial Regression）等，它们能更好地处理数据的非负和分散特性。通过使用这类模型，研究者检查他们的基本结论是否受数据类型和模型假设的影响。

- **Census-Tract-Year (Traffic-Segment-Year) Specific Time Trends**: 这指的是在模型中加入了特定于普查区年份（或交通路段年份）的时间趋势变量。这样做是为了捕捉可能随时间变化的固定效应，比如经济周期、政策变迁或长期的社会趋势，这些因素可能对结果有系统性影响。通过控制这些时间特异性的趋势，研究者评估其基本发现是否依然成立，确保结果不受特定时间段内未观察到变化的干扰。

-  **Weighted Samples**: 使用加权样本意味着在分析中给予某些观测值更高的权重，这通常是为了纠正样本的代表性偏差或不平衡。比如，如果某些群体在数据中被过度或不足代表，通过加权可以调整，使得分析更能反映总体情况。通过这种方式测试，研究者能确定他们的结论是否依赖于样本的特定构成。
	- 根据实施拥堵税前的情况，对普查区的pudos进行加权；
	- 根据路段长度，对交通速度进行加权

-  **Additional Control Variables**: 研究者还增加了额外的控制变量到模型中。控制变量是用来排除混淆因素（confounding factors）的变量，确保模型估计的是感兴趣变量的真实效应。引入更多可能影响结果的变量，可以帮助更精细地分离因果关系，验证基本发现的稳健性。

综合来看，通过这一系列的稳健性检验，研究者旨在证明他们的基本结论不仅在初始模型设定下成立，而且在调整模型结构、考虑更多潜在影响因素和样本属性的情况下依然保持一致，从而增强了结论的可信度和普遍适用性。

#### 6.3异质性分析
探究拥堵税在一天中不同时段和不同人口普查区的异质性影响，以及